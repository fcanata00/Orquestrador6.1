[package]
name = foopkg
version = 1.2.3
arch = x86_64,aarch64
category = base
x11 = false
desktop = false
extras = audio,docs
description = Biblioteca Foo para manipulação X
www = https://foopkg.example.org
api = https://foopkg.example.org/releases.json

[environment]
CFLAGS = -O2 -march=native
LDFLAGS = -Wl,-O1
PATH_PREPEND = /opt/custom/bin
export = CFLAGS,LDFLAGS

[sources]
# multiple lines allowed; use "type:" prefix if needed
source1 = url::https://example.org/foopkg-1.2.3.tar.xz
source2 = git::https://github.com/example/foopkg.git@v1.2.3
source3 = mirror::https://mirror.example/foopkg-1.2.3.tar.xz
sha256_1 = <hex for source1>
sha256_3 = <hex for source3>

[patches]
# relative to package dir; can be URLs too
patch1 = patchfix-1.patch
patch2 = https://patch-distro.example/foopkg-fix.patch

[hooks]
pre-fetch = hooks/pre-fetch.sh
post-fetch = hooks/post-fetch.sh
pre-build = hooks/pre-build.sh
post-build = hooks/post-build.sh
pre-install = hooks/pre-install.sh
post-install = hooks/post-install.sh
pre-uninstall = hooks/pre-uninstall.sh
post-uninstall = hooks/post-uninstall.sh

[build]
prefix = /usr
configure = ./configure --prefix=${prefix} --sysconfdir=/etc
build = make -j$(nproc)
check = make check
install = make install DESTDIR=${DESTDIR}

[package-meta]
bundles = foopkg-dev,foopkg-libs
